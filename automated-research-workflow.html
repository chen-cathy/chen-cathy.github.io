<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building a Self-Replicating System | A Journey in Automation</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400&family=Inter:wght@400;500;600;800&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            /* Palette - Professional & Authoritative */
            --color-bg-body: #ffffff;
            --color-bg-subtle: #f8fafc;
            --color-bg-card: #ffffff;
            --color-text-main: #334155;
            /* Slate 700 */
            --color-text-heading: #0f172a;
            /* Slate 900 */
            --color-text-muted: #64748b;
            /* Slate 500 */

            --color-primary: #0f172a;
            /* Navy/Dark Slate */
            --color-accent: #2563eb;
            /* Corporate Blue */
            --color-accent-subtle: #e0f2fe;

            --color-success: #059669;
            --color-success-bg: #ecfdf5;
            --color-warning: #b45309;
            --color-warning-bg: #fffbeb;
            --color-danger: #be123c;
            --color-danger-bg: #fff1f2;

            --font-serif: 'Merriweather', Georgia, serif;
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-mono: 'JetBrains Mono', monospace;

            --spacing-unit: 1rem;
            --container-width: 760px;
            /* Optimal reading width */
            --radius-md: 6px;
            --radius-lg: 12px;

            --shadow-subtle: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-float: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

        /* Reset & Base */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-serif);
            line-height: 1.8;
            color: var(--color-text-main);
            background-color: var(--color-bg-body);
            font-size: 18px;
            /* High readability */
            -webkit-font-smoothing: antialiased;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: var(--font-sans);
            color: var(--color-text-heading);
            font-weight: 800;
            line-height: 1.25;
            letter-spacing: -0.025em;
            margin-bottom: 1rem;
        }

        h1 {
            font-size: 2.75rem;
            margin-bottom: 1.5rem;
        }

        h2 {
            font-size: 1.8rem;
            margin-top: 3rem;
            margin-bottom: 1.25rem;
            border-bottom: 2px solid var(--color-bg-subtle);
            padding-bottom: 0.5rem;
        }

        p {
            margin-bottom: 1.5rem;
        }

        a {
            color: var(--color-accent);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }

        a:hover {
            border-bottom-color: var(--color-accent);
        }

        code,
        .mono {
            font-family: var(--font-mono);
            font-size: 0.9em;
        }

        /* Reading Progress */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: var(--color-primary);
            width: 0%;
            z-index: 9999;
            transition: width 0.1s ease-out;
        }

        /* Layout */
        .container {
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        .site-header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid var(--color-bg-subtle);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            font-family: var(--font-sans);
            font-size: 0.875rem;
        }

        .header-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-meta {
            color: var(--color-text-muted);
            font-weight: 500;
        }

        .header-tag {
            color: var(--color-primary);
            font-weight: 600;
            background: var(--color-bg-subtle);
            px: 0.5rem;
            py: 0.25rem;
            border-radius: 4px;
        }

        /* Article Hero */
        .article-hero {
            text-align: center;
            padding: 4rem 0 3rem;
        }

        .hero-category {
            font-family: var(--font-sans);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-accent);
            font-weight: 700;
            margin-bottom: 1rem;
            display: inline-block;
        }

        .hero-subtitle {
            font-family: var(--font-sans);
            font-size: 1.25rem;
            color: var(--color-text-muted);
            font-weight: 400;
            margin-top: 1rem;
        }

        .hero-meta {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 2rem;
            font-family: var(--font-sans);
            font-size: 0.875rem;
            color: var(--color-text-muted);
        }

        /* Drops Caps */
        .drop-cap::first-letter {
            font-size: 4rem;
            font-weight: 800;
            float: left;
            line-height: 0.8;
            margin-right: 0.75rem;
            margin-top: 0.25rem;
            color: var(--color-primary);
            font-family: var(--font-sans);
        }

        /* Figures & Diagrams */
        figure {
            margin: 2.5rem 0;
        }

        .visual-box {
            background: var(--color-bg-subtle);
            border: 1px solid #e2e8f0;
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.01);
        }

        figcaption,
        .caption {
            font-family: var(--font-sans);
            font-size: 0.875rem;
            color: var(--color-text-muted);
            text-align: center;
            margin-top: 1rem;
            font-style: italic;
        }

        /* Comparison Grids */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 640px) {
            .grid-2 {
                grid-template-columns: 1fr 1fr;
            }
        }

        .file-tree {
            background: white;
            padding: 1.5rem;
            border-radius: var(--radius-md);
            border: 1px solid #e2e8f0;
            font-family: var(--font-mono);
            font-size: 0.85rem;
            text-align: left;
            box-shadow: var(--shadow-subtle);
        }

        .file-tree p {
            margin-bottom: 0.25rem;
            color: #475569;
        }

        .file-tree .indent {
            margin-left: 1.5rem;
        }

        .status-badge {
            display: inline-block;
            margin-top: 1rem;
            font-family: var(--font-sans);
            font-size: 0.75rem;
            font-weight: 600;
        }

        .status-bad.badge-danger {
            color: var(--color-danger);
        }

        .status-good.badge-success {
            color: var(--color-success);
        }

        /* Callout Boxes */
        .callout {
            padding: 1.5rem;
            border-radius: var(--radius-md);
            margin: 2rem 0;
            border-left: 4px solid;
            font-family: var(--font-sans);
        }

        .callout p:last-child {
            margin-bottom: 0;
        }

        .callout-title {
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: block;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
        }

        .callout.warning {
            background: var(--color-danger-bg);
            border-color: var(--color-danger);
            color: #7f1d1d;
        }

        .callout.warning .callout-title {
            color: var(--color-danger);
        }

        .callout.insight {
            background: var(--color-success-bg);
            border-color: var(--color-success);
            color: #064e3b;
        }

        .callout.insight .callout-title {
            color: var(--color-success);
        }

        .callout.highlight {
            background: #f1f5f9;
            /* Slate 100 */
            border-color: var(--color-primary);
            color: var(--color-text-heading);
        }

        .callout.highlight .callout-title {
            color: var(--color-primary);
        }

        /* Code Blocks */
        .code-block-wrapper {
            background: #1e1e2e;
            /* Dark theme */
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-card);
            color: #cdd6f4;
        }

        .code-header {
            background: #181825;
            padding: 0.75rem 1.25rem;
            border-bottom: 1px solid #313244;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .window-dots {
            display: flex;
            gap: 6px;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .dot-red {
            background: #ff5f56;
        }

        .dot-yellow {
            background: #ffbd2e;
        }

        .dot-green {
            background: #27c93f;
        }

        .code-title {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: #a6adc8;
        }

        pre {
            padding: 1.5rem;
            overflow-x: auto;
            font-size: 0.85rem;
            line-height: 1.6;
        }

        .code-inline {
            background: #f1f5f9;
            color: var(--color-primary);
            padding: 0.15em 0.3em;
            border-radius: 4px;
            font-size: 0.85em;
            border: 1px solid #e2e8f0;
        }

        /* Flow Diagrams (CSS Only) */
        .flow-diagram {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: center;
        }

        @media (min-width: 768px) {
            .flow-diagram {
                flex-direction: row;
                justify-content: space-between;
                align-items: stretch;
            }
        }

        .flow-step {
            flex: 1;
            background: white;
            border: 1px solid #e2e8f0;
            padding: 1.5rem;
            border-radius: var(--radius-md);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .flow-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .flow-label {
            font-family: var(--font-sans);
            font-weight: 700;
            color: var(--color-text-heading);
            font-size: 0.9rem;
        }

        .flow-sub {
            font-family: var(--font-sans);
            font-size: 0.75rem;
            color: var(--color-text-muted);
        }

        .flow-arrow {
            color: var(--color-text-muted);
            font-size: 1.5rem;
            align-self: center;
        }

        /* Blockquote */
        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: 2rem;
            margin: 2.5rem 0;
            font-style: italic;
            font-family: var(--font-serif);
            font-size: 1.25rem;
            color: var(--color-text-heading);
            background: transparent;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        @media (min-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .stat-card {
            background: #fff;
            border: 1px solid #e2e8f0;
            border-radius: var(--radius-md);
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--shadow-subtle);
        }

        .stat-value {
            font-family: var(--font-sans);
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--color-primary);
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-family: var(--font-sans);
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--color-text-muted);
        }

        /* Table */
        .table-wrapper {
            overflow-x: auto;
            border: 1px solid #e2e8f0;
            border-radius: var(--radius-md);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-family: var(--font-sans);
            font-size: 0.9rem;
        }

        th {
            background: #f8fafc;
            text-align: left;
            padding: 1rem 1.5rem;
            font-weight: 600;
            color: var(--color-text-heading);
            border-bottom: 1px solid #e2e8f0;
        }

        td {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #f1f5f9;
        }

        td.center {
            text-align: center;
        }

        .text-danger {
            color: var(--color-danger);
        }

        .text-success {
            color: var(--color-success);
            font-weight: 600;
        }

        /* Footer */
        .site-footer {
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
            padding: 4rem 0;
            margin-top: 4rem;
            text-align: center;
        }

        .footer-logo {
            font-family: var(--font-sans);
            font-weight: 800;
            font-size: 1.25rem;
            color: var(--color-primary);
            margin-bottom: 1rem;
            display: block;
        }

        .tags-cloud {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }

        .tag-pill {
            background: white;
            border: 1px solid #e2e8f0;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-family: var(--font-sans);
            font-size: 0.75rem;
            color: var(--color-text-muted);
        }
    </style>
</head>

<body>
    <!-- Reading Progress Bar -->
    <div class="reading-progress" id="progress"></div>

    <!-- Header -->
    <header class="site-header">
        <div class="container header-inner">
            <span class="header-meta"><a href="index.html" class="logo">
            <i class="fa-solid fa-arrow-left"></i> Back to Synthesis Hub
        </a>
            </span>
            
        </div>
    </header>

    <!-- Hero -->
    <article class="container">
        <!-- Title Section -->
        <header class="article-hero">
            <span class="hero-category">Engineering & Automation</span>
            <h1>
                Building a Self-Replicating System
            </h1>
            <p class="hero-subtitle">
                Node.js, JSON, and the Art of Not Repeating Yourself
            </p>
            <div class="hero-meta">
                <span>üè∑Ô∏è Automation, Node.js, AI Tools</span>
            </div>
        </header>

       

        <!-- Article Content -->
        <div class="prose">

            <!-- Introduction -->
            <section class="drop-cap fade-in">
                <p>
                    Using templates to embed reports is the most intuitive idea and method in the Original Research
                    section. Beyond leveraging vibe coding skills, understanding the characteristics of AI is one of the
                    biggest ways to avoid repetitive work. What started as a simple task‚Äîcreating many report webpages at onec‚Äîquickly
                    became an exercise in systems thinking, automation, and discovering just how powerful AI tools can
                    be when you know how to use them.
                </p>
                <p>
                    Let me take you through my journey of building a self-replicating system that turned hours of manual
                    work into a single command.
                </p>
            </section>
	    
	     <!-- Featured Image / Before-After -->
        <figure class="fade-in">
            <div class="visual-box">
                <div class="grid-2">
                    <!-- Before -->
                    <div style="text-align: center;">
                        <p
                            style="font-family: var(--font-sans); font-weight: 600; color: var(--color-danger); margin-bottom: 1rem;">
                             Before: Manually copy past</p>
                        <div class="file-tree">
                            <p style="color: #94a3b8">üìÅ reports/</p>
                            <div class="indent">
                                <p>üìÑ report1.html</p>
                                <p>üìÑ report2.html</p>
                                <p>üìÑ report3.html</p>
                                <p>üìÑ report4.html</p>
                                <p>üìÑ report5.html</p>
                                <p>üìÑ report6.html</p>
                                <p>üìÑ report7.html</p>
                                <p>üìÑ report8.html</p>
				<p>üìÑ ...</p>
                            </div>
                        </div>
                        </div>
                    <!-- After -->
                    <div style="text-align: center;">
                        <p
                            style="font-family: var(--font-sans); font-weight: 600; color: var(--color-success); margin-bottom: 1rem;">
                             After: The System</p>
                        <div class="file-tree" style="background: #f0fdf4; border-color: #bbf7d0;">
                            <p style="color: #94a3b8">üìÅ system/</p>
                            <div class="indent">
                                <p style="color: #2563eb">üìã data.json</p>
                                <p style="color: #7c3aed">üé® template.html</p>
                                <p style="color: #059669">‚öôÔ∏è generate.js</p>
                            </div>
                        </div>
                        <p class="status-badge status-good badge-success">3 files = infinite pages </p>
                    </div>
                </div>
            </div>
            <figcaption>The transformation: from 12 scattered files to 3 systematic ones</figcaption>
        </figure>
	
            <!-- Section: The Problem -->
            <section class="fade-in">
                <h2>The Problem: Death by Copy-Paste</h2>

                <p>
                    I had 12 research reports to display on my website. Each report needed its own page with a consistent
                    design‚Äîa title, an introduction, an embedded presentation from Google Drive, and a conclusion. The
                    naive approach? Create one HTML file, duplicate it 12 times, and manually edit each one.
                </p>

                <div class="callout warning">
                    <span class="callout-title">üö® The Hidden Danger</span>
                    <p>What happens when you want to update the design? You edit one file, copy the changes to all
                        files, and somewhere along the way... your carefully written introductions disappear. Your
                        conclusions get overwritten. Hours of work‚Äîgone.</p>
                </div>

                <p>
                    I've seen this disaster happen before. And I knew there had to be a better way.
                </p>
            </section>

            <!-- Section: The Architecture -->
            <section class="fade-in">
                <h2>The Solution: A Three-Layer System</h2>

                <p>
                    The key insight was simple: <strong>separate content from structure</strong>. Instead of mixing
                    everything together in 12 files, I broke the system into three distinct layers:
                </p>

                <!-- Architecture Diagram -->
                <figure>
                    <div class="visual-box">
                        <div class="flow-diagram">
                            <div class="flow-step" style="border-top: 4px solid #3b82f6;">
                                <div class="flow-icon">üìã</div>
                                <div class="flow-label">data.json</div>
                                <div class="flow-sub">Content Layer</div>
                            </div>
                            <div class="flow-arrow">‚Üí</div>
                            <div class="flow-step" style="border-top: 4px solid #8b5cf6;">
                                <div class="flow-icon">üé®</div>
                                <div class="flow-label">template.html</div>
                                <div class="flow-sub">Structure Layer</div>
                            </div>
                            <div class="flow-arrow">‚Üí</div>
                            <div class="flow-step" style="border-top: 4px solid #10b981;">
                                <div class="flow-icon">‚öôÔ∏è</div>
                                <div class="flow-label">generate.js</div>
                                <div class="flow-sub">Execution Layer</div>
                            </div>
                            <div class="flow-arrow">‚Üí</div>
                            <div class="flow-step" style="border-top: 4px solid #f97316;">
                                <div class="flow-icon">üì¶</div>
                                <div class="flow-label">12 HTML Files</div>
                                <div class="flow-sub">Output</div>
                            </div>
                        </div>
                    </div>
                    <figcaption>The flow: Data + Template ‚Üí Script ‚Üí Generated Pages</figcaption>
                </figure>

                <p>
                    <span class="code-inline">report_template.html</span> defines the appearance of each report page,
                    containing placeholders like <span class="code-inline">{{title}}</span>, <span
                        class="code-inline">{{intro}}</span>, and <span class="code-inline">{{driveId}}</span>. It's the
                    "frame" that holds the content.
                </p>

                <p>
                    <span class="code-inline">data.json</span> contains the specific information for each report‚Äîtitles,
                    introductions, conclusions, and Google Drive file IDs. This is where all my carefully written
                    content lives, safely separated from the structure.
                </p>

                <!-- Code Example: data.json -->
                <figure>
                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <div class="window-dots">
                                <div class="dot dot-red"></div>
                                <div class="dot dot-yellow"></div>
                                <div class="dot dot-green"></div>
                            </div>
                            <span class="code-title">data.json</span>
                        </div>
                        <pre><code>{
  <span style="color: #93c5fd;">"slug"</span>: <span style="color: #86efac;">"solow-swan-model"</span>,
  <span style="color: #93c5fd;">"title"</span>: <span style="color: #86efac;">"Solow-Swan Economic Convergence"</span>,
  <span style="color: #93c5fd;">"driveId"</span>: <span style="color: #86efac;">"1a2b3c4d5e6f7g8h9"</span>,
  <span style="color: #93c5fd;">"intro"</span>: <span style="color: #86efac;">"This report analyzes the economic convergence..."</span>,
  <span style="color: #93c5fd;">"conclusion"</span>: <span style="color: #86efac;">"The data reveals interesting patterns..."</span>
}</code></pre>
                    </div>
                    <figcaption>Each report's content is stored as a simple JSON object</figcaption>
                </figure>

                <p>
                    <span class="code-inline">generate.js</span> is the magic script. It reads the template, loads the
                    data, replaces the placeholders with actual content, and outputs all complete HTML files. One command,
                    12 pages at a time.
                </p>
            </section>

            <!-- Section: The AI Discovery -->
            <section class="fade-in">
                <h2>The AI Breakthrough: Working Smarter, Not Harder</h2>

                <p>
                    Here's where things got interesting. I had 12 reports, each with a PowerPoint file on Google Drive.
                    To embed them, I needed each file's Drive ID‚Äîa long string of characters buried in the sharing URL.
                    Copying these manually would be tedious and error-prone.
                </p>

                <p>
                    Then I remembered: <strong>AI can extract text from images.</strong>
                </p>

                <div class="callout highlight">
                    <span class="callout-title">üí° The Aha Moment</span>
                    <p>We all know AI has the ability to extract text from images. Using this understanding, I used
                        <span class="code-inline">Shift+Win+S</span> to screenshot report names from file folders,
                        letting AI automatically generate HTML filenames from the images.</p>
                </div>

                <p>
                    I took screenshots of my file explorer showing all the report names, fed them to AI, and it
                    extracted the text perfectly. But I didn't stop there.
                </p>

                <!-- Process Diagram -->
                <figure>
                    <div class="visual-box">
                        <p
                            style="font-family: var(--font-sans); font-weight: 600; text-align: center; margin-bottom: 2rem;">
                            My AI-Assisted Workflow</p>
                        <div class="flow-diagram" style="flex-wrap: wrap; justify-content: center; gap: 1.5rem;">
                            <!-- Customized flow layout for vertical stack feel in css flex -->
                            <div class="flow-step" style="min-width: 200px;">
                                <div class="flow-icon">üì∏</div>
                                <div class="flow-sub">Step 1</div>
                                <div class="flow-label">Screenshot</div>
                                <div class="flow-sub" style="margin-top: 0.5rem">Used Shift+Win+S to capture file names
                                    from folders</div>
                            </div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step" style="min-width: 200px;">
                                <div class="flow-icon">ü§ñ</div>
                                <div class="flow-sub">Step 2</div>
                                <div class="flow-label">AI Text Extraction</div>
                                <div class="flow-sub" style="margin-top: 0.5rem">AI read the images and generated HTML
                                    filenames</div>
                            </div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step" style="min-width: 200px;">
                                <div class="flow-icon">üîó</div>
                                <div class="flow-sub">Step 3</div>
                                <div class="flow-label">Fuzzy Matching</div>
                                <div class="flow-sub" style="margin-top: 0.5rem">AI matched filenames with Google Drive
                                    IDs using semantic comparison</div>
                            </div>
                            <div class="flow-arrow">‚Üì</div>
                            <div class="flow-step" style="min-width: 200px;">
                                <div class="flow-icon">üìã</div>
                                <div class="flow-sub">Step 4</div>
                                <div class="flow-label">Auto-Generated data.json</div>
                                <div class="flow-sub" style="margin-top: 0.5rem">Complete data file ready for the
                                    generation script</div>
                            </div>
                        </div>
                    </div>
                    <figcaption>From screenshots to structured data in minutes</figcaption>
                </figure>

                <p>
                    I then utilized AI's fuzzy comparison capabilities to batch match files with Google Drive IDs. The
                    AI understood that "Solow-Swan Economic Convergence Report.pptx" should match with the
                    "solow-swan-model" entry in my data file, even though the names weren't exactly the same.
                </p>
            </section>

            <!-- Section: Google Apps Script Discovery -->
            <section class="fade-in">
                <h2>A Pleasant Surprise: Google Drive Has AI Too</h2>

                <p>
                    When I accessed Google Drive, I was pleasantly surprised to find that Google Drive also has AI
                    capabilities. But even more useful was what AI taught me next: <strong>Google Apps Script</strong>.
                </p>

                <p>
                    AI walked me through writing a Google Apps Script that would automatically extract file names and
                    IDs from my Drive folder. After execution, it batch-fetched the names and IDs of all my files from
                    the cloud, completely eliminating the need for manual copying.
                </p>

                <!-- Google Apps Script Example -->
                <figure>
                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <div class="window-dots">
                                <div class="dot dot-red"></div>
                                <div class="dot dot-yellow"></div>
                                <div class="dot dot-green"></div>
                            </div>
                            <span class="code-title">Google Apps Script</span>
                        </div>
                        <pre><code><span style="color: #c678dd;">function</span> <span class="text-yellow-300" style="color: #e5c07b;">getFileIdsFromFolder</span>() {
  <span style="color: #c678dd;">const</span> folderId = <span style="color: #98c379;">"your-folder-id"</span>;
  <span style="color: #c678dd;">const</span> folder = DriveApp.<span style="color: #e5c07b;">getFolderById</span>(folderId);
  <span style="color: #c678dd;">const</span> files = folder.<span style="color: #e5c07b;">getFiles</span>();
  
  <span style="color: #c678dd;">while</span> (files.<span style="color: #e5c07b;">hasNext</span>()) {
    <span style="color: #c678dd;">const</span> file = files.<span style="color: #e5c07b;">next</span>();
    Logger.<span style="color: #e5c07b;">log</span>(file.<span style="color: #e5c07b;">getName</span>() + <span style="color: #98c379;">": "</span> + file.<span style="color: #e5c07b;">getId</span>());
  }
}</code></pre>
                    </div>
                    <figcaption>A simple script that saved hours of manual work</figcaption>
                </figure>

                <div class="callout insight">
                    <span class="callout-title"> Semantic Matching Logic</span>
                    <p>When processing all sets of file pairings, AI used keyword automatic matching logic to match
                        filenames with card items in data.json. Even when names didn't match exactly, semantic
                        understanding made the connections.</p>
                </div>
            </section>

            <!-- Section: The Magic Command -->
            <section class="fade-in">
                <h2>The Magic: One Command, Eight Pages</h2>

                <p>
                    With all the pieces in place, the workflow became beautifully simple. Change a template, run <span
                        class="code-inline">node generate.js</span> in the terminal, and all 8 pages are updated
                    instantly.
                </p>

                <!-- Terminal Demo -->
                <figure>
                    <div class="code-block-wrapper" style="background: #0f172a;">
                        <div class="code-header">
                            <div class="window-dots">
                                <div class="dot dot-red"></div>
                                <div class="dot dot-yellow"></div>
                                <div class="dot dot-green"></div>
                            </div>
                            <span class="code-title">Terminal</span>
                        </div>
                        <div
                            style="padding: 1.5rem; font-family: var(--font-mono); font-size: 0.85rem; color: #e2e8f0; line-height: 1.6;">
                            <p><span style="color: #10b981;">$</span> node generate.js</p>
                            <p style="color: #64748b;">Reading template...</p>
                            <p style="color: #64748b;">Loading data.json (12 entries)...</p>
                            <p style="color: #60a5fa;">‚úì Generated: solow-swan-model.html</p>
                            <p style="color: #60a5fa;">‚úì Generated: gdp-analysis.html</p>
                            <p style="color: #60a5fa;">‚úì Generated: trade-patterns.html</p>
                            <p style="color: #60a5fa;">‚úì Generated: labor-market.html</p>
                            <p style="color: #60a5fa;">‚úì Generated: fiscal-policy.html</p>
                            <p style="color: #60a5fa;">‚úì Generated: monetary-trends.html</p>
                            <p style="color: #60a5fa;">‚úì Generated: inflation-study.html</p>
                            <p style="color: #60a5fa;">‚úì Generated: growth-factors.html</p>
			    <p style="color: #60a5fa;">‚úì ...</p>
                            <p style="color: #10b981; font-weight: bold; margin-top: 1rem;"> All 12 files generated in
                                0.23 seconds</p>
</br>
                        </div>
                    </div>
                    
                <p>
                    Want to add a new report? Just add a line to <span class="code-inline">data.json</span>, run the
                    script once, and the new page is automatically generated. This not only improved efficiency by 85%,
                    but more importantly, I won't abandon maintaining this website because it's "too troublesome."
                </p>
            </section>

            <!-- Section: Dynamic Logic -->
            <section class="fade-in">
                <h2>Going Further: Dynamic Rendering Logic</h2>

                <p>
                    Some of my reports have both a PowerPoint presentation and an Excel spreadsheet. Rather than
                    creating two different templates, I added logic to the generation script to handle this
                    automatically.
                </p>

                <p>
                    When <span class="code-inline">driveId2</span> is present in the data, the script automatically
                    generates a dual-iframe layout. When it's absent, it creates a single-iframe layout. The same
                    template adapts to different scenarios.
                </p>

                <!-- Visual Comparison -->
                <figure>
                    <div class="grid-2">
                        <div class="visual-box">
                            <p
                                style="font-family: var(--font-sans); font-size: 0.85rem; color: #64748b; margin-bottom: 1rem; text-align: center;">
                                Single iframe (PPTX only)</p>
                            <div
                                style="background: #e0f2fe; border: 2px solid #bae6fd; border-radius: 8px; height: 120px; display: flex; align-items: center; justify-content: center;">
                                <div style="text-align: center; color: #0284c7;">
                                    <span style="font-size: 2rem;"></span>
                                    <p style="font-weight: 600; margin-top: 5px;">PPTX Embed</p>
                                </div>
                            </div>
                        </div>
                        <div class="visual-box">
                            <p
                                style="font-family: var(--font-sans); font-size: 0.85rem; color: #64748b; margin-bottom: 1rem; text-align: center;">
                                Dual iframe (PPTX + XLSX)</p>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                <div
                                    style="background: #e0f2fe; border: 2px solid #bae6fd; border-radius: 8px; height: 120px; display: flex; align-items: center; justify-content: center;">
                                    <div style="text-align: center; color: #0284c7;">
                                        <span style="font-size: 1.5rem;"></span>
                                        <p style="font-size: 0.8rem; font-weight: 600; margin-top: 5px;">PPTX</p>
                                    </div>
                                </div>
                                <div
                                    style="background: #ecfdf5; border: 2px solid #a7f3d0; border-radius: 8px; height: 120px; display: flex; align-items: center; justify-content: center;">
                                    <div style="text-align: center; color: #059669;">
                                        <span style="font-size: 1.5rem;"></span>
                                        <p style="font-size: 0.8rem; font-weight: 600; margin-top: 5px;">XLSX</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <figcaption>The script automatically chooses the right layout based on the data</figcaption>
                </figure>

                <p>
                    I also developed a script injection tool called <span class="code-inline">install-counter.js</span>
                    that scans all HTML files and automatically inserts analytics code at specific locations. Another
                    batch task automated.
                </p>
            </section>

            <!-- Section: The Unexpected Benefit -->
            <section class="fade-in">
                <h2>The Unexpected Benefit: Disaster Prevention</h2>

                <p>
                    This design has an unexpected benefit: <strong>complete separation of content and
                        structure</strong>. I can confidently modify the template style without worrying about
                    overwriting my hard-written introductions and conclusions. Because that text is safely stored in
                    <span class="code-inline">data.json</span>, the template only handles the "framework."
                </p>

                <!-- Comparison: Disaster vs Safe -->
                <figure>
                    <div class="grid-2">
                        <!-- Disaster Path -->
                        <div class="visual-box" style="background: #fff1f2; border-color: #fecaca;">
                            <p style="font-weight: 700; color: #b91c1c; margin-bottom: 1rem;"> Traditional Method</p>
                            <div style="font-size: 0.85rem; color: #4b5563;">
                                <div style="display: flex; gap: 10px; margin-bottom: 0.5rem;">
                                    <span style="color: #ef4444; font-weight: bold;">1.</span>
                                    <p style="margin: 0;">Modify design in report1.html</p>
                                </div>
                                <div style="text-align: center; color: #f87171; margin: 5px 0;">‚Üì</div>
                                <div style="display: flex; gap: 10px; margin-bottom: 0.5rem;">
                                    <span style="color: #ef4444; font-weight: bold;">2.</span>
                                    <p style="margin: 0;">Copy changes to all 8 files</p>
                                </div>
                                <div style="text-align: center; color: #f87171; margin: 5px 0;">‚Üì</div>
                                <div style="display: flex; gap: 10px; margin-bottom: 0.5rem;">
                                    <span style="color: #ef4444; font-weight: bold;">3.</span>
                                    <p style="margin: 0; text-decoration: line-through; opacity: 0.7;">Introduction and
                                        conclusions disappear</p>
                                </div>
                                <div style="text-align: center; color: #f87171; margin: 5px 0;">‚Üì</div>
                                <div style="display: flex; gap: 10px;">
                                    <span style="color: #ef4444; font-weight: bold;">4.</span>
                                    <p style="margin: 0; font-weight: 700; color: #b91c1c;"> CRASH ‚Äî Hours lost</p>
                                </div>
                            </div>
                        </div>
                        <!-- Safe Path -->
                        <div class="visual-box" style="background: #ecfdf5; border-color: #a7f3d0;">
                            <p style="font-weight: 700; color: #047857; margin-bottom: 1rem;"> Automated Method</p>
                            <div style="font-size: 0.85rem; color: #4b5563;">
                                <div style="display: flex; gap: 10px; margin-bottom: 0.5rem;">
                                    <span style="color: #10b981; font-weight: bold;">1.</span>
                                    <p style="margin: 0;">Modify design in template.html</p>
                                </div>
                                <div style="text-align: center; color: #34d399; margin: 5px 0;">‚Üì</div>
                                <div style="display: flex; gap: 10px; margin-bottom: 0.5rem;">
                                    <span style="color: #10b981; font-weight: bold;">2.</span>
                                    <p style="margin: 0;">Run <span class="code-inline">node generate.js</span></p>
                                </div>
                                <div style="text-align: center; color: #34d399; margin: 5px 0;">‚Üì</div>
                                <div style="display: flex; gap: 10px; margin-bottom: 0.5rem;">
                                    <span style="color: #10b981; font-weight: bold;">3.</span>
                                    <p style="margin: 0; color: #059669; font-weight: 600;">Content safe in data.json ‚úì
                                    </p>
                                </div>
                                <div style="text-align: center; color: #34d399; margin: 5px 0;">‚Üì</div>
                                <div style="display: flex; gap: 10px;">
                                    <span style="color: #10b981; font-weight: bold;">4.</span>
                                    <p style="margin: 0; font-weight: 700; color: #047857;"> All pages updated
                                        perfectly</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <figcaption>The difference between hoping for the best and designing for safety</figcaption>
                </figure>
            </section>

            <!-- Section: Results -->
            <section class="fade-in">
                <h2>The Results: By the Numbers</h2>

                <p>
                    Let me quantify what this system achieved:
                </p>

                <!-- Stats Grid -->
                <figure>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <p class="stat-value">85%</p>
                            <p class="stat-label">Efficiency Gain</p>
                        </div>
                        <div class="stat-card">
                            <p class="stat-value">0.23s</p>
                            <p class="stat-label">Generation Time</p>
                        </div>
                        <div class="stat-card">
                            <p class="stat-value">‚àû‚Üí3</p>
                            <p class="stat-label">Files to Maintain</p>
                        </div>
                        <div class="stat-card">
                            <p class="stat-value">‚àû</p>
                            <p class="stat-label">Scalability</p>
                        </div>
                    </div>
                </figure>

                <!-- Comparison Table -->
                <figure>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Task</th>
                                    <th class="center">Manual</th>
                                    <th class="center">Automated</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Update design across all pages</td>
                                    <td class="center text-danger">~40 min</td>
                                    <td class="center text-success">~30 sec</td>
                                </tr>
                                <tr>
                                    <td>Add a new report</td>
                                    <td class="center text-danger">~15 min</td>
                                    <td class="center text-success">~1 min</td>
                                </tr>
                                <tr>
                                    <td>Risk of content loss</td>
                                    <td class="center text-danger">High </td>
                                    <td class="center text-success">Zero </td>
                                </tr>
                                <tr>
                                    <td>Maintenance motivation</td>
                                    <td class="center text-danger">"Too troublesome" </td>
                                    <td class="center text-success">"Let's go!" </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <figcaption>Time savings translate directly to sustainability</figcaption>
                </figure>
            </section>

            <!-- Section: Reflection -->
            <section class="fade-in">
                <h2>Reflection: What This Taught Me</h2>

                <p>
                    Building this system wasn't just about solving an immediate problem. It was an exercise in thinking
                    systematically about how to create maintainable, scalable solutions.
                </p>

                <div style="display: flex; flex-direction: column; gap: 1.5rem; margin: 3rem 0;">
                    <div
                        style="display: flex; gap: 1.5rem; align-items: flex-start; background: #fff; padding: 1.5rem; border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: var(--shadow-subtle);">
                        <div style="background: #f1f5f9; padding: 1rem; border-radius: 8px; font-size: 1.5rem;">üß†</div>
                        <div>
                            <p
                                style="font-weight: 700; color: var(--color-text-heading); margin-bottom: 0.5rem; font-family: var(--font-sans);">
                                Systems Thinking</p>
                            <p style="font-size: 0.95rem; margin: 0; color: var(--color-text-main);">Not just writing
                                code, but designing architectures that are scalable and maintainable. The goal isn't to
                                solve today's problem‚Äîit's to create a system that handles tomorrow's problems too.</p>
                        </div>
                    </div>

                    <div
                        style="display: flex; gap: 1.5rem; align-items: flex-start; background: #fff; padding: 1.5rem; border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: var(--shadow-subtle);">
                        <div style="background: #f1f5f9; padding: 1rem; border-radius: 8px; font-size: 1.5rem;">üîÆ</div>
                        <div>
                            <p
                                style="font-weight: 700; color: var(--color-text-heading); margin-bottom: 0.5rem; font-family: var(--font-sans);">
                                Foresight</p>
                            <p style="font-size: 0.95rem; margin: 0; color: var(--color-text-main);">Proactively
                                addressing potential future problems. By separating content and structure, I prevented
                                the disaster of overwriting carefully written content during design updates.</p>
                        </div>
                    </div>

                    <div
                        style="display: flex; gap: 1.5rem; align-items: flex-start; background: #fff; padding: 1.5rem; border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: var(--shadow-subtle);">
                        <div style="background: #f1f5f9; padding: 1rem; border-radius: 8px; font-size: 1.5rem;">üõ†Ô∏è
                        </div>
                        <div>
                            <p
                                style="font-weight: 700; color: var(--color-text-heading); margin-bottom: 0.5rem; font-family: var(--font-sans);">
                                Tool Proficiency</p>
                            <p style="font-size: 0.95rem; margin: 0; color: var(--color-text-main);">Mastering Node.js,
                                JSON, Google Apps Script, and AI tools‚Äîand knowing when and how to integrate them into
                                efficient workflows.</p>
                        </div>
                    </div>
                </div>

                <blockquote>
                    "This design means I won't abandon maintaining this website because it's 'too troublesome.' And that
                    might be the most important outcome of all."
                </blockquote>
            </section>

            <!-- Conclusion -->
            <section class="fade-in">
                <h2>The Bottom Line</h2>

                <p>
                    The tools I used aren't complicated: Node.js, JSON files, a bit of template
                    logic, and AI assistance. The real skill was recognizing that the manual approach would eventually
                    fail, and taking the time to build something better.
                </p>

                <p>
                    If you're facing repetitive tasks in your own projects, ask yourself: "What would this look like if
                    I had to do it 100 times instead of 10?" That question often reveals whether your current approach
                    will scale‚Äîor whether it's time to build a system.
                </p>

                <div class="callout highlight" style="text-align: center;">
                    <p style="font-weight: 700; color: var(--color-primary); margin: 0; font-size: 1.25rem;">
                        "When you have to edit 100 files, you will be so glad"
                    </p>
                </div>
            </section>

        </div>
    </article>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
           
            <span class="footer-logo">Automated Engineering & Batch Processing Systems</span>
            <div class="tags-cloud">
                <span class="tag-pill">Node.js</span>
                <span class="tag-pill">JSON</span>
                <span class="tag-pill">Google Apps Script</span>
                <span class="tag-pill">AI Integration</span>
                <span class="tag-pill">Template Systems</span>
            </div>
        </div>
    </footer>

    <script>
        // Reading progress bar
        window.addEventListener('scroll', () => {
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrolled = (window.scrollY / docHeight) * 100;
            document.getElementById('progress').style.width = scrolled + '%';
        });

        // Fade-in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            el.style.opacity = 0;
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'all 0.6s ease-out';
            observer.observe(el);
        });
    </script>

<!-- Èñ±ËÆÄË®àÊï∏Âô® V2 - Âê´Áï∂Êó•Áµ±Ë®à -->
<style>
.admin-trigger {
    position: fixed;
    bottom: 10px;
    right: 10px;
    width: 30px;
    height: 30px;
    background: transparent;
    border: none;
    cursor: pointer;
    opacity: 0.1;
    z-index: 998;
}
.admin-trigger:hover {
    opacity: 0.3;
}
.admin-panel {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 25px 25px 45px 25px;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    z-index: 1000;
    width: 420px;
    max-width: 90vw;
    font-family: "Microsoft JhengHei", Arial, sans-serif;
}
.admin-panel.active {
    display: block;
}
.overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 999;
}
.overlay.active {
    display: block;
}
.admin-panel input {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
}
.admin-panel button {
    width: 100%;
    padding: 10px;
    margin: 5px 0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
}
.btn-primary {
    background: #2563eb;
    color: white;
}
.btn-secondary {
    background: #e5e7eb;
    color: #374151;
    margin-bottom: 0;
}
.btn-reset {
    position: absolute;
    bottom: 8px;
    right: 8px;
    width: auto;
    max-width: 50px;
    padding: 2px 6px;
    margin: 0;
    background: #4b5563;
    color: #9ca3af;
    font-size: 8px;
    border-radius: 2px;
    opacity: 0.25;
    transition: opacity 0.2s;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.btn-reset:hover {
    opacity: 1;
    color: #dc2626;
    background: #374151;
}
.stats-summary {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin: 15px 0;
}
.stats-card {
    padding: 12px;
    border-radius: 6px;
    text-align: center;
}
.stats-card.today {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}
.stats-card.total {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
}
.stats-card-label {
    font-size: 11px;
    opacity: 0.9;
    margin-bottom: 4px;
}
.stats-card-value {
    font-size: 24px;
    font-weight: bold;
}
.section-title {
    font-size: 13px;
    font-weight: 600;
    color: #374151;
    margin: 12px 0 8px 0;
    padding-bottom: 4px;
    border-bottom: 2px solid #e5e7eb;
}
.error {
    color: #dc2626;
    font-size: 13px;
    margin-top: 5px;
}
.page-stats-container {
    max-height: 280px;
    overflow-y: auto;
    margin-bottom: 5px;
}
.page-stats {
    margin: 8px 0;
    padding: 10px;
    background: #eff6ff;
    border-left: 3px solid #2563eb;
    border-radius: 4px;
}
.page-name {
    font-weight: 600;
    color: #1e40af;
    margin-bottom: 6px;
    font-size: 13px;
}
.page-counts {
    display: flex;
    gap: 12px;
    margin-bottom: 6px;
}
.count-item {
    display: flex;
    flex-direction: column;
}
.count-label {
    color: #6b7280;
    font-size: 10px;
}
.count-value {
    color: #111827;
    font-weight: 600;
    font-size: 15px;
}
.page-time {
    font-size: 10px;
    color: #6b7280;
}
.current-page {
    background: #fef3c7;
    border-left-color: #f59e0b;
}
.current-page .page-name {
    color: #92400e;
}
.today-badge {
    display: inline-block;
    background: #10b981;
    color: white;
    font-size: 9px;
    padding: 2px 5px;
    border-radius: 3px;
    margin-left: 4px;
}
</style>

<button class="admin-trigger" onclick="openAdmin()"></button>
<div class="overlay" id="overlay" onclick="closeAdmin()"></div>

<div class="admin-panel" id="adminPanel">
    <div id="loginView">
        <h3 style="margin-top:0;">ÁÆ°ÁêÜÂì°ÁôªÂÖ•</h3>
        <input type="password" id="passwordInput" placeholder="Ë´ãËº∏ÂÖ•ÁÆ°ÁêÜÂØÜÁ¢º" autocomplete="off">
        <div class="error" id="errorMsg"></div>
        <button class="btn-primary" onclick="login()">ÁôªÂÖ•</button>
        <button class="btn-secondary" onclick="closeAdmin()">ÂèñÊ∂à</button>
    </div>
    
    <div id="statsView" style="display:none;">
        <h3 style="margin-top:0;margin-bottom:12px;">üìä Èñ±ËÆÄÁµ±Ë®à</h3>
        
        <div class="stats-summary">
            <div class="stats-card today">
                <div class="stats-card-label">‰ªäÊó•Èñ±ËÆÄ</div>
                <div class="stats-card-value" id="todayTotal">0</div>
            </div>
            <div class="stats-card total">
                <div class="stats-card-label">Á¥ØË®àÈñ±ËÆÄ</div>
                <div class="stats-card-value" id="totalAllViews">0</div>
            </div>
        </div>
        
        <div class="section-title">üìÑ ÂêÑÈ†ÅÈù¢Áµ±Ë®à</div>
        <div class="page-stats-container" id="pageStatsList"></div>
        
        <div style="padding-right: 60px;">
            <button class="btn-secondary" onclick="closeAdmin()">ÈóúÈñâ</button>
        </div>
        <button class="btn-reset" onclick="resetAllStats()">ÈáçÁΩÆ</button>
    </div>
</div>

<script>
(function() {
    const ADMIN_PASSWORD = '0520'; // Ë´ã‰øÆÊîπÁÇ∫‰Ω†Ëá™Â∑±ÁöÑÂØÜÁ¢º
    const STORAGE_PREFIX = 'page_stats_';
    
    function getPageName() {
        const path = window.location.pathname;
        return path.split('/').pop() || 'index.html';
    }
    
    function getTodayString() {
        const now = new Date();
        return now.toISOString().split('T')[0];
    }
    
    function recordVisit() {
        const pageName = getPageName();
        const storageKey = STORAGE_PREFIX + pageName;
        const stats = getPageStats(pageName);
        const now = new Date().toISOString();
        const today = getTodayString();
        
        stats.totalCount = (stats.totalCount || 0) + 1;
        stats.lastVisit = now;
        
        if (!stats.firstVisit) {
            stats.firstVisit = now;
        }
        
        if (!stats.dailyStats) {
            stats.dailyStats = {};
        }
        
        if (!stats.dailyStats[today]) {
            stats.dailyStats[today] = 0;
        }
        
        stats.dailyStats[today] += 1;
        
        const thirtyDaysAgo = new Date();
        thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
        const cutoffDate = thirtyDaysAgo.toISOString().split('T')[0];
        
        Object.keys(stats.dailyStats).forEach(date => {
            if (date < cutoffDate) {
                delete stats.dailyStats[date];
            }
        });
        
        localStorage.setItem(storageKey, JSON.stringify(stats));
    }
    
    function getPageStats(pageName) {
        const storageKey = STORAGE_PREFIX + pageName;
        const data = localStorage.getItem(storageKey);
        if (data) {
            return JSON.parse(data);
        }
        return {
            totalCount: 0,
            firstVisit: null,
            lastVisit: null,
            dailyStats: {}
        };
    }
    
    function getAllPagesStats() {
        const allStats = [];
        for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            if (key.startsWith(STORAGE_PREFIX)) {
                const pageName = key.replace(STORAGE_PREFIX, '');
                const stats = JSON.parse(localStorage.getItem(key));
                allStats.push({
                    page: pageName,
                    ...stats
                });
            }
        }
        return allStats.sort((a, b) => (b.totalCount || 0) - (a.totalCount || 0));
    }
    
    window.openAdmin = function() {
        document.getElementById('adminPanel').classList.add('active');
        document.getElementById('overlay').classList.add('active');
        document.getElementById('passwordInput').value = '';
        document.getElementById('errorMsg').textContent = '';
        setTimeout(() => {
            document.getElementById('passwordInput').focus();
        }, 100);
    };
    
    window.closeAdmin = function() {
        document.getElementById('adminPanel').classList.remove('active');
        document.getElementById('overlay').classList.remove('active');
        document.getElementById('loginView').style.display = 'block';
        document.getElementById('statsView').style.display = 'none';
    };
    
    window.login = function() {
        const password = document.getElementById('passwordInput').value;
        
        if (password === ADMIN_PASSWORD) {
            showStats();
        } else {
            document.getElementById('errorMsg').textContent = 'ÂØÜÁ¢ºÈåØË™§';
        }
    };
    
    window.showStats = function() {
        const currentPage = getPageName();
        const today = getTodayString();
        const allStats = getAllPagesStats();
        
        let totalAllViews = 0;
        let todayTotal = 0;
        
        allStats.forEach(page => {
            totalAllViews += (page.totalCount || 0);
            if (page.dailyStats && page.dailyStats[today]) {
                todayTotal += page.dailyStats[today];
            }
        });
        
        document.getElementById('totalAllViews').textContent = totalAllViews;
        document.getElementById('todayTotal').textContent = todayTotal;
        
        const listHtml = allStats.map(page => {
            const isCurrent = page.page === currentPage;
            const todayCount = (page.dailyStats && page.dailyStats[today]) || 0;
            const hasToday = todayCount > 0;
            
            return `
                <div class="page-stats ${isCurrent ? 'current-page' : ''}">
                    <div class="page-name">
                        ${page.page} 
                        ${isCurrent ? '(Áï∂Ââç)' : ''}
                        ${hasToday ? '<span class="today-badge">‰ªäÊó•Ê¥ªË∫ç</span>' : ''}
                    </div>
                    <div class="page-counts">
                        <div class="count-item">
                            <span class="count-label">‰ªäÊó•</span>
                            <span class="count-value">${todayCount}</span>
                        </div>
                        <div class="count-item">
                            <span class="count-label">Á¥ØË®à</span>
                            <span class="count-value">${page.totalCount || 0}</span>
                        </div>
                    </div>
                    <div class="page-time">
                        ÊúÄËøë: ${formatDateShort(page.lastVisit)}
                    </div>
                </div>
            `;
        }).join('');
        
        document.getElementById('pageStatsList').innerHTML = listHtml || '<p style="color:#9ca3af;text-align:center;padding:20px 0;font-size:12px;">Â∞öÁÑ°Ë≥áÊñô</p>';
        
        document.getElementById('loginView').style.display = 'none';
        document.getElementById('statsView').style.display = 'block';
    };
    
    function formatDateShort(isoString) {
        if (!isoString) return '--';
        const date = new Date(isoString);
        const now = new Date();
        const today = now.toDateString() === date.toDateString();
        
        if (today) {
            return '‰ªäÂ§© ' + date.toLocaleTimeString('zh-TW', { hour: '2-digit', minute: '2-digit' });
        }
        
        return date.toLocaleString('zh-TW', {
            month: '2-digit',
            day: '2-digit',
            hour: '2-digit',
            minute: '2-digit'
        });
    }
    
    window.resetAllStats = function() {
        if (confirm('‚ö†Ô∏è Á¢∫ÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâÁµ±Ë®àË≥áÊñôÂóé?\nÊ≠§Êìç‰ΩúÁÑ°Ê≥ïÂæ©ÂéüÔºÅ')) {
            const keys = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key.startsWith(STORAGE_PREFIX)) {
                    keys.push(key);
                }
            }
            keys.forEach(key => localStorage.removeItem(key));
            alert('‚úÖ ÊâÄÊúâÁµ±Ë®àË≥áÊñôÂ∑≤ÈáçÁΩÆ');
            closeAdmin();
        }
    };
    
    recordVisit();
    
    const passwordInput = document.getElementById('passwordInput');
    if (passwordInput) {
        passwordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                login();
            }
        });
    }
})();
</script>

</body>

</html>